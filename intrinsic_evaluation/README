# `intrinsic_evaluation`

This folder contains scripts and resources for processing datasets, cleaning LaTeX documents, and generating statistics related to intrinsic evaluations of text readability. Below is an explanation of each file in this folder.

## Files

### 1. `clean_latex.py`
- **Purpose**: Contains functions to clean and process LaTeX documents by removing LaTeX commands, environments, and inline/display math.
- **Key Functions**:
  - `remove_latex_commands`: Removes LaTeX-specific syntax and commands.
  - `extract_old`: Extracts specific sections (e.g., Introduction) from LaTeX documents.
  - `split`: Splits text based on specified start and end markers.

### 2. `dataset_clean.py`
- **Purpose**: Processes raw datasets, cleans LaTeX content, and saves the cleaned results into an Excel file.
- **Key Functions**:
  - `save_results`: Saves processed papers and their cleaned text into an Excel file (`cleaned_input_test.xlsx`).
  - `process_chunks`: Processes chunks of data from the dataset, cleans LaTeX content, and filters based on text length.
  - `main`: Entry point for processing the dataset located in the `AAPR_Dataset` directory.

### 3. `dataset_process.py`
- **Purpose**: Processes text data using various system prompts and saves the results into Excel files for further analysis.
- **Key Functions**:
  - `process`: Sends text data to a text enhancement AI using specified prompts and saves the results.
  - `main`: Entry point for processing the dataset in `input.xlsx` using four different prompts and saving results to:
    - `statistics_plaintext.xlsx`
    - `statistics_first_metric_based.xlsx`
    - `statistics_second_metric_based.xlsx`
    - `statistics_third_metric_based.xlsx`

### 4. `stats.py`
- **Purpose**: Analyzes and visualizes the readability statistics from the generated Excel files.
- **Key Functions**:
  - `view_statistics`: Calculates and prints the average improvement in readability.
  - `graph_readability`: Plots the percentage improvement in readability.
  - `graph_readability_categories`: Categorizes and visualizes performance clusters based on readability improvement.

### 5. `input.xlsx`
- **Purpose**: Contains the raw text data used for intrinsic evaluation. This file is processed by `dataset_process.py`.

### 6. `api.env`
- **Purpose**: Environment file containing configuration variables such as `DIR_PATH` and `API_KEY` for accessing datasets and APIs.

## Results

- **Excel Files with Results**: The processed results from the intrinsic evaluation are available in the following link:
  [Download Results](https://drive.google.com/file/d/1QT_9MwBEHgfvzXbYBvtCxmrSjOTucf0C/view?usp=sharing)

- **statistics_plaintext.xlsx** | Average Improvement: $12.07786972733481$
- **statistics_first_metric_based.xlsx** | Average Improvement: $12.102720577443629$
- **statistics_second_metric_based.xlsx** | Average Improvement: $12.015715077596031$
- **statistics_third_metric_based.xlsx** | Average Improvement: $12.148516157741902$


## Usage

1. **Clean LaTeX Documents**: Use `clean_latex.py` to preprocess LaTeX documents and extract relevant sections.
2. **Process Datasets**: Run `dataset_clean.py` to clean and filter datasets, or use `dataset_process.py` to process text with AI prompts.
3. **Analyze Results**: Use `stats.py` to analyze and visualize the readability improvements from the processed results.

## Notes

- Ensure that the `api.env` file is correctly configured with the required paths and API keys before running the scripts.
- The processed results are saved in Excel files for further analysis and visualization.